---
import Hero from '~/components/widgets/Hero.astro';
import Layout from '~/layouts/PageLayout.astro';

const metadata = {
  title: 'Digital Menu Services',
};
---

<Layout metadata={metadata}>
  <!-- Hero Widget ******************* -->
  <Hero
    tagline="FAR QR Services"
    title="Digitize your interactions with FAR QR"
    subtitle="Three essential tools: Managed Digital Menus, WiFi QRs, and Branded QRs. The simplest way to connect with your customers effectively."
    actions={[{ variant: 'primary', text: 'Get Started', href: '#trial-form', icon: 'tabler:arrow-down' }]}
    image={{
      src: 'https://images.unsplash.com/photo-1556761175-5973dc0f32e7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1740&q=80',
      alt: 'Digital Menu Hero Image',
    }}
  />

  <!-- FORM SECTION (Main Content) ******************* -->
  <div id="trial-form" class="scroll-mt-16 mb-20">
    <div class="flex flex-col max-w-6xl mx-auto px-4 sm:px-6 overflow-hidden">
        <div class="py-12 md:py-20 lg:py-24 rounded-lg bg-blue-50 dark:bg-slate-800 shadow-xl p-8">
            <div class="text-center pb-10 max-w-5xl mx-auto">
                <h2 class="text-3xl md:text-4xl font-bold tracking-tighter mb-4 font-heading text-heading">
                    Start Managing Your Digital Menu
                </h2>
                <p class="text-xl text-muted dark:text-slate-400">
                    Ready to organize your menu and pricelist?<br>
                    Create your account to get instant access to the Dashboard.
                </p>
            </div>

            <form action="#" method="POST" enctype="multipart/form-data" class="max-w-3xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Name Input -->
                <div class="col-span-1">
                    <label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Full Name</label>
                    <input type="text" id="name" name="name" placeholder="John Doe" required
                        class="w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-slate-900 focus:ring-primary focus:border-primary dark:text-white" />
                </div>

                <!-- Email Input -->
                <div class="col-span-1">
                    <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email Address</label>
                    <input type="email" id="email" name="email" placeholder="john@example.com" required
                        class="w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-slate-900 focus:ring-primary focus:border-primary dark:text-white" />
                </div>

                <!-- Phone Input -->
                <div class="col-span-1">
                    <label for="phone" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Phone Number</label>
                    <input type="tel" id="phone" name="phone" placeholder="+1 234 567 890" required
                        class="w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-slate-900 focus:ring-primary focus:border-primary dark:text-white" />
                </div>

                <!-- Social Media Input -->
                <div class="col-span-1">
                    <label for="social" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Link (url)</label>
                    <input type="url" id="social" name="social" placeholder="https://domain.com"
                        class="w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-slate-900 focus:ring-primary focus:border-primary dark:text-white" />
                </div>

               <!-- File Upload Input -->
                <div class="col-span-1 md:col-span-2">
                    <label for="logo_upload" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                        Upload Logo/Image (JPG, PNG - Max 5MB)
                    </label>
                    <input 
                        type="file" 
                        id="logo_upload" 
                        name="logo_upload" 
                        accept=".jpg, .jpeg, .png, image/jpeg, image/png"
                        class="w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-slate-900 text-gray-700 dark:text-gray-300 focus:ring-primary focus:border-primary file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" 
                    />
                    <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">
                        Only JPG or PNG files are allowed. Maximum size: 5MB.
                    </p>
                </div>

                <!-- Submit Button -->
                <div class="col-span-1 md:col-span-2 mt-4">
                    <button type="submit" class="w-full py-4 text-white bg-primary hover:bg-blue-700 font-bold rounded-md shadow-lg transition duration-200">
                        Send Request
                    </button>
                </div>
            </form>
        </div>
    </div>
  </div>

</Layout>

<script is:inline>
  // Script xử lý validate file size
  const fileInput = document.getElementById('logo_upload');
  
  if (fileInput) {
      fileInput.addEventListener('change', function() {
          const fileSize = this.files[0].size / 1024 / 1024; // in MiB
          if (fileSize > 5) {
              alert('File size exceeds 5MB. Please choose a smaller file.');
              this.value = ''; // Reset input
          }
      });
  }
</script>
