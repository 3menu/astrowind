---
import Layout from '~/layouts/PageLayout.astro';

import Hero from '~/components/widgets/Hero.astro';
import Note from '~/components/widgets/Note.astro';
import Features from '~/components/widgets/Features.astro';
import Steps from '~/components/widgets/Steps.astro';
import Content from '~/components/widgets/Content.astro';
import BlogLatestPosts from '~/components/widgets/BlogLatestPosts.astro';
import FAQs from '~/components/widgets/FAQs.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';

const metadata = {
  title: 'FAR QR — Digital Menu, Free WiFi QR & Custom Designs',
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <!-- Hero Widget ******************* -->

  <Hero
    actions={[
      {
        variant: 'primary',
        text: 'Request Menu Trial',
        href: '#trial-form',
        icon: 'tabler:user-plus',
      },
    ]}
    image={{ src: '~/assets/images/hero-image.png', alt: 'FAR QR Overview' }}
  >
    <Fragment slot="title">
      Digitize your interactions with <span class="text-accent dark:text-white">FAR QR</span>
    </Fragment>

    <Fragment slot="subtitle">
      <span class="hidden sm:inline">
        Three solutions for your needs: <strong>Managed Digital Menus</strong>, <strong>Free WiFi QRs</strong>, and <strong>Image QR</strong>.</span
      >
      Simple tools to connect with your customers effectively.
    </Fragment>
  </Hero>

  <!-- Note Widget ******************* -->

  <Note title="Philosophy:" description="Practical, Aesthetic, and Accessible Solutions." />

  <!-- Features Widget *************** -->

  <Features
    id="features"
    tagline="Our Services"
    title="Choose the right tool for you"
    subtitle="We offer different workflows depending on what you need."
    items={[
      {
        title: 'Digital Menu & Pricelists',
        description:
          'For shop owners. Request an account to access the dashboard. Manage items and prices easily. Customers scan to view.',
        icon: 'tabler:list-details',
      },
      {
        title: 'Free WiFi QR',
        description:
          'Simply provide your WiFi Name and Password to receive a convenient QR code. Your customers can scan to connect instantly—no typing required.',
        icon: 'tabler:wifi',
      },
      {
        title: 'Image QR',
        description:
          'For branding. Upload your logo/image, enter URL, and make a payment. We send the high-quality design to your email.',
        icon: 'tabler:palette',
      },
    ]}
  />

  <!-- Content Widget - MENU SERVICE **************** -->

  <Content
    isReversed
    tagline="Subscription Service"
    title="Digital Menu & Pricelist Management"
    items={[
      {
        title: 'Dashboard Access',
        description:
          'Sign up for a trial account to access our content management system.',
      },
      {
        title: 'Quick & Easy Updates',
        description:
          'Edit prices or hide items easily. Changes typically reflect on the customer view within an average of 1-2 minutes.',
      },
      {
        title: 'How to get started',
        description:
          'Fill out the "Request Trial" form below. We will set up your account and send you login details.',
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1556742049-0cfed4f7a07d?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80',
      alt: 'Digital Menu Image',
    }}
  >
    <Fragment slot="content">
      <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">For F&B, Retail & Services</h3>
      Manage your offerings professionally.
    </Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Content>

  <!-- Content Widget - WIFI SERVICE **************** -->

  <Content
    id="wifi-section"
    isAfterContent
    items={[
      {
        title: 'Simple & Easy',
        description: `Just type your WiFi name and password.`,
      },
      {
        title: 'Convenient',
        description:
          "Print it and stick it on your wall. Guests connect without asking for the password.",
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80',
      alt: 'WiFi Connect Image',
    }}
  >
    <Fragment slot="content">
        <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">Free WiFi QR Generator</h3>
        Simplify connection for your guests.
    </Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Content>

  <!-- Content Widget - ARTISTIC SERVICE **************** -->

  <Content
    isReversed
    isAfterContent
    items={[
      {
        title: 'Order Process',
        description:
          'Submit your Target URL, upload your Logo/Image, and provide your Email address.',
      },
      {
        title: 'Pre-payment Required',
        description:
          'Complete the payment securely. Our designers/system will process your request.',
      },
      {
        title: 'Delivered via Email',
        description:
          'Receive your stunning, personalized QR code directly in your inbox.',
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1622547748225-3fc4abd2d00d?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80',
      alt: 'Artistic QR Image',
    }}
  >
    <Fragment slot="content">
        <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">Image QR</h3>
        Stand out with a personalized design for your Brand or Profile.
    </Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Content>

  <!-- Steps Widget ****************** -->

  <Steps
    title="Workflows Overview"
    items={[
      {
        title: 'For <span class="font-medium">Image QR</span>',
        description:
          "Upload Image & Info -> Pay Online -> Receive Result via Email.",
        icon: 'tabler:palette',
      },
      {
        title: 'For <span class="font-medium">Digital Menu & WiFi QR</span>',
        description:
          'Request Trial (Form below) -> Get Account -> Manage in Dashboard.',
        icon: 'tabler:layout-dashboard',
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1616198814651-e71f960c3180?ixlib=rb-4.0.3&auto=format&fit=crop&w=987&q=80',
      alt: 'Steps image',
    }}
  />

  <!-- FORM WIDGET (Only for Digital Menu Trial) ******************* -->
  
  <div id="trial-form" class="scroll-mt-16">
    <div class="flex flex-col max-w-6xl mx-auto px-4 sm:px-6 overflow-hidden">
        <div class="py-12 md:py-20 lg:py-24 rounded-lg bg-blue-50 dark:bg-slate-800 shadow-xl p-8">
            <div class="text-center pb-10 max-w-5xl mx-auto">
                <h2 class="text-3xl md:text-4xl font-bold tracking-tighter mb-4 font-heading text-heading">
                    Request Digital Menu Trial
                </h2>
                <p class="text-xl text-muted dark:text-slate-400">
                    Want to use our Dashboard for Menu/Pricelist? <br>
                    Fill in your details to get a 7-day free trial account.
                </p>
            </div>

            <form action="#" method="POST" enctype="multipart/form-data" class="max-w-3xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Name Input -->
                <div class="col-span-1">
                    <label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Full Name</label>
                    <input type="text" id="name" name="name" placeholder="John Doe" required
                        class="w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-slate-900 focus:ring-primary focus:border-primary dark:text-white" />
                </div>

                <!-- Email Input -->
                <div class="col-span-1">
                    <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email Address</label>
                    <input type="email" id="email" name="email" placeholder="john@example.com" required
                        class="w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-slate-900 focus:ring-primary focus:border-primary dark:text-white" />
                </div>

                <!-- Phone Input -->
                <div class="col-span-1">
                    <label for="phone" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Phone Number</label>
                    <input type="tel" id="phone" name="phone" placeholder="+1 234 567 890" required
                        class="w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-slate-900 focus:ring-primary focus:border-primary dark:text-white" />
                </div>

                <!-- Social Media Input -->
                <div class="col-span-1">
                    <label for="social" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Link (url)</label>
                    <input type="url" id="social" name="social" placeholder="https://domain.com"
                        class="w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-slate-900 focus:ring-primary focus:border-primary dark:text-white" />
                </div>

               <!-- File Upload Input -->
                <div class="col-span-1 md:col-span-2">
                    <label for="logo_upload" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                        Upload Logo/Image (JPG, PNG - Max 5MB)
                    </label>
                    <input 
                        type="file" 
                        id="logo_upload" 
                        name="logo_upload" 
                        accept=".jpg, .jpeg, .png, image/jpeg, image/png"
                        onchange="validateFileSize(this)"
                        class="w-full px-4 py-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-slate-900 text-gray-700 dark:text-gray-300 focus:ring-primary focus:border-primary file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" 
                    />
                    <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">
                        Only JPG or PNG files are allowed. Maximum size: 5MB.
                    </p>
                </div>

                <!-- Submit Button -->
                <div class="col-span-1 md:col-span-2 mt-4">
                    <button type="submit" class="w-full py-4 text-white bg-primary hover:bg-blue-700 font-bold rounded-md shadow-lg transition duration-200">
                        Request Trial Account
                    </button>
                </div>
            </form>
        </div>
    </div>
  </div>

  <!-- HighlightedPosts Widget ******* -->

  <BlogLatestPosts
    title="Find out more content in our Blog"
    information={`Explore our latest articles on how to leverage QR technology for your business. 
    Learn tips on menu design, WiFi strategies, and personal branding.`}
  />

  <!-- FAQs Widget ******************* -->

  <FAQs
    title="Frequently Asked Questions"
    subtitle="Got questions? We've got answers."
    tagline="FAQs"
    classes={{ container: 'max-w-6xl' }}
    items={[
      {
        title: 'How do I create a WiFi QR?',
        description:
          "It's free and instant. Go to our WiFi Tool page, enter your SSID and Password, and the QR code is generated immediately for you to download.",
      },
      {
        title: 'How does the Artistic QR service work?',
        description:
          'This is a paid service. You fill out an order form with your link, upload your image/logo, and complete payment. We process the design and email the result to you.',
      },
      {
        title: 'What is the "Digital Menu"?',
        description:
          'It is a management system. You need an account (trial available) to log in, add products/prices. We host the menu online and give you a dynamic QR code for customers to scan.',
      },
      {
        title: 'How long does it take for updates to appear?',
        description:
          'To ensure quick loading speeds for your customers, we use an optimized caching system. Changes are processed and reflected automatically within an average of 1-2 minutes.',
      },
    ]}
  />

  <!-- CallToAction Widget *********** -->

  <CallToAction
    actions={[
      {
        variant: 'primary',
        text: 'Request Menu Trial',
        href: '#trial-form',
        icon: 'tabler:user-plus',
      },
      {
        variant: 'secondary', // Nút phụ
        text: 'View Pricing',
        href: '/pricing', // Dẫn sang trang giá vừa tạo
      },
    ]}
  >
    <Fragment slot="title">
      Ready to modernize your business?
    </Fragment>

    <Fragment slot="subtitle">
      Start with a 7-day free trial. Upgrade anytime and <strong>keep your remaining trial days!</strong>
    </Fragment>
  </CallToAction>
</Layout>

<script>
function validateFileSize(input) {
    const fileSize = input.files[0].size / 1024 / 1024; // in MiB
    if (fileSize > 5) {
        alert('File size exceeds 5MB. Please choose a smaller file.');
        input.value = ''; // Reset input
    }
}
</script>
